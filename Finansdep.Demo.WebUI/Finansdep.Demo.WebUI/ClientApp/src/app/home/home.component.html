<h1>Housing Value Prediction Demo</h1>
<p>
  <em>
    This is a demonstration of explainable prediction of housing values using machine learning. The data set used is the <a href="https://www.kaggle.com/anthonypino/melbourne-housing-market" target="_blank">Melbourne Housing Clearance Data (2016)</a> from Kaggle.
    Some useful resources:
    <ul>
      <li>
        <a href="/swagger" target="_blank">API Documentation</a>
      </li>
      <li>
        <a href="https://github.com/Fundator/finansdep-demo" target="_blank">Web application source code</a>
      </li>
      <li>
        <a href="https://github.com/Fundator/finansdep" target="_blank">MLFlow backend source code</a>
      </li>
    </ul>
  </em></p>
<p>
  Use the form below to specify the characteristics of the house you wish to predict a market value for. The prediction as well as its explanation will be shown below the form. 

</p>
<form #predictionForm="ngForm" (ngSubmit)="onSubmit(predictionForm.value)">

  <table class='table predictForm' style="width: 0%">
    <tbody>
      <tr>
        <td><label>Suburb:</label></td>
        <td><input name="Suburb" [(ngModel)]="predictionRequest.Suburb" placement="top" ngbTooltip="Eksempler kan være Fossegrenda, Flatåsen, Byneset, eller Krattsia" ></td>
      </tr>
      <tr>
        <td><label>Rooms:</label></td>
        <td><input name="Rooms" [(ngModel)]="predictionRequest.Rooms" ></td>
      </tr>
      <tr>
        <td><label>Type:</label></td>
        <td><input name="Type" [(ngModel)]="predictionRequest.Type" ></td>
      </tr>
      <tr>
        <td><label>Method:</label></td>
        <td><input name="Method" [(ngModel)]="predictionRequest.Method" ></td>
      </tr>
      <tr>
        <td><label>Post Code:</label></td>
        <td><input name="PostCode" [(ngModel)]="predictionRequest.PostCode" ></td>
      </tr>
      <tr>
        <td><label>Region Name:</label></td>
        <td><input name="RegionName" [(ngModel)]="predictionRequest.RegionName" ></td>
      </tr>
      <tr>
        <td><label>Property Count:</label></td>
        <td><input name="PropertyCount" [(ngModel)]="predictionRequest.PropertyCount" ></td>
      </tr>
      <tr>
        <td><label>Distance:</label></td>
        <td><input name="Distance" [(ngModel)]="predictionRequest.Distance" ></td>
      </tr>
      <tr>
        <td><label>Council Area:</label></td>
        <td><input name="CouncilArea" [(ngModel)]="predictionRequest.CouncilArea" ></td>
      </tr>
      <tr>
        <td></td>
        <td>
          <p>
            <button type="submit" class="btn btn-primary">Predict</button>
          </p>
        </td>
      </tr>
    </tbody>
  </table>
</form>

<div *ngIf="prediction" style="display: block">
  <h2>Predicted value: AU$ {{prediction.prediction}}</h2>
  <canvas baseChart
          [datasets]="barChartData"
          [labels]="barChartLabels"
          [options]="barChartOptions"
          [plugins]="barChartPlugins"
          [legend]="barChartLegend"
          [chartType]="barChartType"></canvas>
</div>
